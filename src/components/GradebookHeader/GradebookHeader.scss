/* src/components/GradebookHeader/GradebookHeader.scss */

/* ===== Theme tokens (dễ đổi màu theo brand CUSC) ===== */
:root {
  --gbk-primary: var(--bs-primary, #0d6efd);   /* CUSC blue ở đây nếu cần */
  --gbk-accent:  #22c55e;                      /* accent green */
  --gbk-text:    var(--bs-body-color, #111827);
  --gbk-muted:   var(--bs-secondary-color, #6b7280);
  --gbk-bg:      var(--bs-body-bg, #ffffff);
  --gbk-border:  var(--bs-border-color, #e5e7eb);
}
@media (prefers-color-scheme: dark) {
  :root {
    --gbk-text:  #e5e7eb;
    --gbk-muted: #9ca3af;
    --gbk-bg:    #0b1020;
    --gbk-border:#1f2937;
  }
}

/* ===== Header container ===== */
.gradebook-header {
  position: sticky;
  top: 0;
  z-index: 20;
  padding: 1.25rem 1rem 1.5rem;
  margin: 0 0 1rem;
  color: var(--gbk-text);
  background:
    radial-gradient(1200px 300px at 10% -20%, color-mix(in oklab, var(--gbk-primary), transparent 80%) 0%, transparent 70%)
    ,linear-gradient(180deg, color-mix(in oklab, var(--gbk-bg), white 6%), var(--gbk-bg));
  border: 1px solid var(--gbk-border);
  border-radius: 18px;
  box-shadow:
    0 6px 18px rgba(2, 6, 23, .06),
    inset 0 1px 0 rgba(255,255,255,.15);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  transition: box-shadow .25s ease, transform .25s ease;

  /* hiệu ứng khi người dùng bắt đầu cuộn */
  &:hover { box-shadow: 0 10px 28px rgba(2, 6, 23, .08); }

  /* link “<< Back to Dashboard” */
  a.mb-3 {
    display: inline-flex;
    align-items: center;
    gap: .375rem;
    font-weight: 600;
    font-size: .95rem;
    color: color-mix(in oklab, var(--gbk-primary), #111 10%);
    text-decoration: none;
    padding: .25rem .5rem;
    border-radius: 999px;
    background: color-mix(in oklab, var(--gbk-primary), transparent 93%);
    transition: background .2s ease, transform .2s ease;

    &:hover { background: color-mix(in oklab, var(--gbk-primary), transparent 86%); transform: translateY(-1px); }
    span[aria-hidden="true"] { opacity: .65; margin-right: .15rem; }
  }

  /* Title “Gradebook” */
  h1 {
    margin: .25rem 0 .25rem;
    font-weight: 800;
    letter-spacing: -.02em;
    line-height: 1.15;
    font-size: clamp(1.6rem, 1.2rem + 1.2vw, 2.2rem);
  }

  /* Subtitle row: CourseId + Action button */
  .subtitle-row {
    gap: .75rem;
    margin-top: .35rem;
    padding-top: .35rem;
    border-top: 1px dashed color-mix(in oklab, var(--gbk-border), transparent 25%);

    h2 {
      all: unset;
      display: inline-flex;
      align-items: center;
      max-width: 100%;
      font-weight: 700;
      letter-spacing: .01em;

      /* courseId chip */
      &.text-break {
        font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
        font-size: .95rem;
        color: var(--gbk-primary);
        background: color-mix(in oklab, var(--gbk-primary), transparent 90%);
        padding: .35rem .6rem;
        border-radius: 999px;
        border: 1px solid color-mix(in oklab, var(--gbk-primary), transparent 70%);
        box-shadow: 0 1px 0 rgba(255,255,255,.3) inset;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 70ch;
      }
    }

    /* Tinh chỉnh Paragon button trong header */
    .btn-tertiary, .btn-outline-primary {
      border-radius: 999px;
      padding: .45rem .9rem;
      font-weight: 700;
      border-color: color-mix(in oklab, var(--gbk-primary), #000 10%);
      color: color-mix(in oklab, var(--gbk-primary), #000 10%);
      background: color-mix(in oklab, var(--gbk-primary), transparent 92%);
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;

      &:hover {
        background: color-mix(in oklab, var(--gbk-primary), transparent 85%);
        box-shadow: 0 4px 12px rgba(2,6,23,.08);
        transform: translateY(-1px);
      }
      &:active { transform: translateY(0); box-shadow: none; }
      &:focus-visible { outline: 3px solid color-mix(in oklab, var(--gbk-primary), white 60%); outline-offset: 2px; }
    }
  }

  /* Alerts: bản đẹp, gọn */
  .alert {
    --_accent: var(--gbk-accent);
    margin-top: .9rem;
    padding: .65rem .8rem;
    border: 1px solid color-mix(in oklab, var(--_accent), transparent 70%);
    background: color-mix(in oklab, var(--_accent), transparent 90%);
    border-radius: 14px;
    color: color-mix(in oklab, var(--gbk-text), #000 20%);
    box-shadow: 0 1px 0 rgba(255,255,255,.25) inset;
    position: relative;

    &::before {
      content: "";
      position: absolute; inset: -1px auto -1px 0;
      width: 6px; border-radius: 14px 0 0 14px;
      background: var(--_accent);
    }
  }
}

/* ===== Responsive ===== */
@media (max-width: 768px) {
  .gradebook-header {
    padding: 1rem .75rem 1.25rem;

    .subtitle-row {
      flex-direction: column;
      align-items: stretch;

      .btn-tertiary, .btn-outline-primary { width: 100%; }
      h2.text-break { max-width: 100%; }
    }
  }
}

/* ===== Optional: lớp bọc cho toàn trang Gradebook ===== */
.gradebook-page {
  max-width: 1180px;
  margin-inline: auto;
  padding: .5rem 1rem 2rem;
}

/* Brand override cho Gradebook header */
.gradebook-header {
  /* CUSC tokens — đổi hex nếu bạn có mã chính thức khác */
  --gbk-primary: #0e5fd8;   /* CUSC blue */
  --gbk-accent:  #22c55e;   /* accent green */
}

.gradebook-page {
  --gbk-primary: #0e5fd8;
  --gbk-accent:  #22c55e;
}
